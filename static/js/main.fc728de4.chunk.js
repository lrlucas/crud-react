(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(57)},31:function(e,t,a){},54:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),c=a.n(o),l=(a(31),a(3)),s=a(4),i=a(6),u=a(5),m=a(7),p=a(15),d=a(59),f=a(61),b=a(60),h=a(12),E=a.n(h),v=a(58),j=function(){return r.a.createElement("header",{className:"col-12 col-md-8"},r.a.createElement(v.a,{to:"/"},r.a.createElement("h1",{className:"text-center"},"React Blog")))},y=(a(54),function(){return r.a.createElement("nav",{className:"col-12 col-md-8"},r.a.createElement(v.a,{to:"/"},"Todos los post"),r.a.createElement(v.a,{to:"/crear"},"Nuevo post"))}),O=a(11),g=a.n(O),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).confirmarEliminacion=function(){var e=a.props.info.id;g()({title:"Estas seguro?",text:"No se puede deshacer esta accion!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, borrar!",cancelButtonText:"Cancelar"}).then(function(t){t.value&&(a.props.borrarPost(e),g()("Eliminado!","El post ha sido eliminado.","success"))})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.info,t=e.id,a=e.title;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement(v.a,{to:"/post/".concat(t),className:"btn btn-primary"},"Ver"),r.a.createElement(v.a,{to:"/editar/".concat(t),className:"btn btn-warning"},"Editar"),r.a.createElement("button",{onClick:this.confirmarEliminacion,className:"btn btn-danger",type:"button"},"Borrar")))}}]),t}(r.a.Component),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).mostrarPost=function(){var e=a.props.posts;return 0===e.length?null:r.a.createElement(r.a.Fragment,null,Object.keys(e).map(function(e){return r.a.createElement(N,{key:e,info:a.props.posts[e],borrarPost:a.props.borrarPost})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Titulo"),r.a.createElement("th",{scope:"col"},"Acciones"))),r.a.createElement("tbody",null,this.mostrarPost()))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement("h2",{className:"text-center"},"Posts"),r.a.createElement(P,{posts:this.props.posts,borrarPost:this.props.borrarPost}))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).mostrarPost=function(e){if(!e.post)return null;var t=a.props.post,n=t.title,o=t.body,c=t.userId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-center"},n),r.a.createElement("p",null,"Autor: ",c),r.a.createElement("p",null,o))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-12 col-md-8"},this.mostrarPost(this.props))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).tituloRef=r.a.createRef(),a.entradaRef=r.a.createRef(),a.crearPost=function(e){e.preventDefault();var t={title:a.tituloRef.current.value,body:a.entradaRef.current.value,userId:1};a.props.crearPost(t)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.crearPost,className:"col-8"},r.a.createElement("legend",{className:"text-center"},"Crear nuevo Post"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Titulo del post:"),r.a.createElement("input",{type:"text",ref:this.tituloRef,className:"form-control",placeholder:"Titulo del post"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Contenido:"),r.a.createElement("textarea",{className:"form-control",ref:this.entradaRef,placeholder:"contenido"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Guardar post"))}}]),t}(r.a.Component),k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).tituloRef=r.a.createRef(),a.entradaRef=r.a.createRef(),a.editarPost=function(e){e.preventDefault();var t={title:a.tituloRef.current.value,body:a.entradaRef.current.value,userId:1,id:a.props.post.id};a.props.editarPost(t)},a.cargarFormulario=function(){if(!a.props.post)return null;var e=a.props.post,t=e.title,n=e.body;return r.a.createElement("form",{onSubmit:a.editarPost,className:"col-8"},r.a.createElement("legend",{className:"text-center"},"Editar el Post"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Titulo del post:"),r.a.createElement("input",{type:"text",ref:a.tituloRef,className:"form-control",defaultValue:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Contenido:"),r.a.createElement("textarea",{className:"form-control",ref:a.entradaRef,defaultValue:n})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Guardar post"))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.cargarFormulario())}}]),t}(r.a.Component),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[]},a.obtenerPost=function(){E.a.get("https://jsonplaceholder.typicode.com/posts").then(function(e){a.setState({posts:e.data})})},a.borrarPost=function(e){E.a.delete("https://jsonplaceholder.typicode.com/posts/".concat(e)).then(function(t){if(t.status){var n=Object(p.a)(a.state.posts).filter(function(t){return t.id!==e});a.setState({posts:n})}})},a.crearPost=function(e){E.a.post("https://jsonplaceholder.typicode.com/posts",{post:e}).then(function(e){if(201===e.status){g()("Post creado!","Se creo correctamente!","success");var t={id:e.data.id},n=Object.assign({},e.data.post,t);console.log(n),a.setState(function(e){return{posts:Object(p.a)(e.posts).concat([n])}})}})},a.editarPost=function(e){var t=e.id;E.a.put("https://jsonplaceholder.typicode.com/posts/".concat(t),{postActualizado:e}).then(function(t){if(200===t.status){g()("Post actualizado","Se guardo correctamente","success");var n=t.data.id,r=Object(p.a)(a.state.posts),o=r.findIndex(function(e){return n===e.id});r[o]=e,a.setState({posts:r})}})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.obtenerPost()}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(j,null),r.a.createElement(y,null),r.a.createElement(f.a,null,r.a.createElement(b.a,{exact:!0,path:"/",render:function(){return r.a.createElement(w,{posts:e.state.posts,borrarPost:e.borrarPost})}}),r.a.createElement(b.a,{exact:!0,path:"/post/:postId",render:function(t){var a,n=t.location.pathname.replace("/post/","");return a=e.state.posts.filter(function(e){return e.id===Number(n)}),r.a.createElement(x,{post:a[0]})}}),r.a.createElement(b.a,{exact:!0,path:"/crear",render:function(){return r.a.createElement(R,{crearPost:e.crearPost})}}),r.a.createElement(b.a,{exact:!0,path:"/editar/:postId",render:function(t){var a,n=t.location.pathname.replace("/editar/","");return a=e.state.posts.filter(function(e){return e.id===Number(n)}),r.a.createElement(k,{post:a[0],editarPost:e.editarPost})}})))))}}]),t}(n.Component),A=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(C,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.fc728de4.chunk.js.map